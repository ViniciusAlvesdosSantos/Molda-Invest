// ============================================
// AUTHENTICATION & USERS
// ============================================
enum UserStatus {
  ACTIVE
  PENDING
  BLOCKED
}

model User {
  id              Int        @id @default(autoincrement())
  email           String     @unique
  name            String?
  cpf             String?    @unique
  phone           String?    @unique
  status          UserStatus @default(PENDING)
  isEmailVerified Boolean    @default(false)
  otpCode         String?
  otpExpiresAt    DateTime
  createdAt       DateTime   @default(now())
  updatedAt       DateTime   @updatedAt
  isFirtLogin     Boolean    @default(true)
  currency        String     @default("BRL")

  accounts     Account[]
  categories   Category[]
  transactions Transaction[]
  investments  Investment[]

  @@index([email])
  @@index([cpf])
  @@map("users")
}
